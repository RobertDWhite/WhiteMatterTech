<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>How to Easily Run A Reverse Proxy using Docker | WhiteMatterTech</title>
<meta name="keywords" content="docker, network, unifi, webhost, wordpress" />
<meta name="description" content="Reverse proxies are powerful tools used typically to forward client traffic to a server. In contrast to a forward proxy, a reverse proxy sits in front of web servers or other servers and forwards client traffic to the appropriate server. In this post, I will show you how to easily setup a reverse proxy using Docker, forward the necessary ports to the reverse proxy, and configure the reverse proxy to forward traffic to various servers on your network.">
<meta name="author" content="Robert D. White">
<link rel="canonical" href="https://whitematter.tech/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.d15de49c11ffd395ee3ed4ee5174b5b86d66a7692bfdf48f1a9c29c125edc3ea.css" integrity="sha256-0V3knBH/05XuPtTuUXS1uG1mp2kr/fSPGpwpwSXtw&#43;o=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://whitematter.tech/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://whitematter.tech/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://whitematter.tech/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://whitematter.tech/apple-touch-icon.png">
<link rel="mask-icon" href="https://whitematter.tech/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="How to Easily Run A Reverse Proxy using Docker" />
<meta property="og:description" content="Reverse proxies are powerful tools used typically to forward client traffic to a server. In contrast to a forward proxy, a reverse proxy sits in front of web servers or other servers and forwards client traffic to the appropriate server. In this post, I will show you how to easily setup a reverse proxy using Docker, forward the necessary ports to the reverse proxy, and configure the reverse proxy to forward traffic to various servers on your network." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://whitematter.tech/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker/" />
<meta property="og:image" content="https://whitematter.tech/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-17T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-08-17T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://whitematter.tech/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker.png" />
<meta name="twitter:title" content="How to Easily Run A Reverse Proxy using Docker"/>
<meta name="twitter:description" content="Reverse proxies are powerful tools used typically to forward client traffic to a server. In contrast to a forward proxy, a reverse proxy sits in front of web servers or other servers and forwards client traffic to the appropriate server. In this post, I will show you how to easily setup a reverse proxy using Docker, forward the necessary ports to the reverse proxy, and configure the reverse proxy to forward traffic to various servers on your network."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://whitematter.tech/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "How to Easily Run A Reverse Proxy using Docker",
      "item": "https://whitematter.tech/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Easily Run A Reverse Proxy using Docker",
  "name": "How to Easily Run A Reverse Proxy using Docker",
  "description": "Reverse proxies are powerful tools used typically to forward client traffic to a server. In contrast to a forward proxy, a reverse proxy sits in front of web servers or other servers and forwards client traffic to the appropriate server. In this post, I will show you how to easily setup a reverse proxy using Docker, forward the necessary ports to the reverse proxy, and configure the reverse proxy to forward traffic to various servers on your network.",
  "keywords": [
    "docker", "network", "unifi", "webhost", "wordpress"
  ],
  "articleBody": "Reverse proxies are powerful tools used typically to forward client traffic to a server. In contrast to a forward proxy, a reverse proxy sits in front of web servers or other servers and forwards client traffic to the appropriate server. In this post, I will show you how to easily setup a reverse proxy using Docker, forward the necessary ports to the reverse proxy, and configure the reverse proxy to forward traffic to various servers on your network. Specifically, I will show how to setup the reverse proxy for se with WordPress, though the applications of this reverse proxy are endless!\nFor this tutorial, we will be setting up Nginx Reverse Proxy with Nginx Proxy Manager, which acts as a GUI frontend to manage your reverse proxy. Managing Nginx without a GUI is definitely doable, but I am not much of a fan of troubleshooting that setup. For this setup, I recommend a singular device or VM that can host your reverse proxy. You will need docker-compose installed on your system.\nFor this setup, I am using a Ubuntu bare-metal machine behind a Unifi Dream Machine Pro . You can use a VM or an OS on bare-metal capable of running Docker (for this tutorial though, we will use commands and terminology only applicable to Ubuntu, but you can make adjustments where necessary if you are familiar with Docker and choose not to use Ubuntu).\nFor tips on running a self-hosted WordPress site, which will be referenced in this post, check out this tutorial. You could run your WordPress site from the same machine/VM running your reverse proxy, but you will likely have to edit some docker-compose files. I may follow up with a post about that later, but until then, I suggest separate devices/VMs.\n Installing Nginx Proxy Manager\n To simplify your install, I have hosted the docker-compose.yml I use to deploy my Nginx Proxy Manager: GitHub. You can easily pull this docker-compose.yml with cURL or wget by running the commands below:\ncurl -LJO [https://raw.githubusercontent.com/robertomano24/nginx-proxy-manager/main/docker-compose.yml](https://raw.githubusercontent.com/robertomano24/nginx-proxy-manager/main/docker-compose.yml)\nOR\nwget --no-check-certificate --content-disposition [https://raw.githubusercontent.com/robertomano24/nginx-proxy-manager/main/docker-compose.yml](https://raw.githubusercontent.com/robertomano24/nginx-proxy-manager/main/docker-compose.yml)\nIf you prefer to create your docker-compose.yml file yourself, make a file named “docker-compose.yml” and add the following to the file:\nversion: ‘3’ services: app: image: ‘jc21/nginx-proxy-manager:latest’ restart: unless-stopped ports: - '80:80' - '81:81' - '443:443' environment: DB_MYSQL_HOST: \"db\" DB_MYSQL_PORT: 3306 DB_MYSQL_USER: \"npm\" DB_MYSQL_PASSWORD: \"npm\" DB_MYSQL_NAME: \"npm\" volumes: - ./data:/data - ./letsencrypt:/etc/letsencrypt db: image: 'jc21/mariadb-aria:latest' restart: unless-stopped environment: MYSQL_ROOT_PASSWORD: 'npm' MYSQL_DATABASE: 'npm' MYSQL_USER: 'npm' MYSQL_PASSWORD: 'npm' volumes: - ./data/mysql:/var/lib/mysql\nOnce you have either downloaded the file or created your own, build your containers by issuing the following command:\ndocker-compose up -d\nIf all goes well, you should now have Nginx Proxy Manager and MariaDB (for the reverse proxy database) running successfully.\n Configuring Nginx Proxy Manager\n Access your reverse proxy frontend by going to http://youripaddress:81 (e.g., http://192.168.1.10:81). Login with the default user email and password shown below. Immediately change the login email and password for your admin user to secure your reverse proxy.\nEmail: admin@example.com Password: changeme Once your password is changed, you can begin configuration. For an example, I will show you how I am configuring the reverse proxy for this WordPress site. You can fill in your own server information. This particular configuration assumes that you have forwarded your domain name (e.g., whitematter.tech) to your public IP. If you do not have a static public IP address, you might consider a free dynamic DNS service like DuckDNS, which will automatically update the DNS records to point to your IP address if your public IP is changed by your ISP. I have whitematter.tech pointing to a DuckDNS hostname.\nForward Ports 443 and 80 The first step is to forward ports 80 and 443 to your reverse proxy host (e.g., 192.168.1.10). I use a Unifi Dream Machine Pro (UDMP) as my gateway, so the screenshots will reflect the Unifi Controller. For Unifi users, go to Settings  Routing \u0026 Firewall  Port Forwarding. Create a new rule and name it something descriptive (I named mine NGINGX_443). Check to enable the forward, check the WAN interface, and check “Anywhere.” In both the Port and the Forward Port, enter “443.” Add your reverse proxy host local IP in the Forward IP spot (e.g., 192.168.1.10). Save the rule, and create another rule with the same info, but replace “443” with “80.” Be sure to save this rule too! You should then have two rules: NGINX_443 and NGINX_80. This will forward all incoming Internet traffic using ports 443 (HTTPS) and 80 (HTTP) to your reverse proxy server.\nConfigure a Proxy Host Go back to your Nginx Proxy Server at http://youripaddress:81. Select Hosts  Proxy Hosts. Near the top right, select Add Proxy Host. From here, we can add our first proxy host! Under the Details section, fill in the info similarly to the screenshot below. Under Domain Names, enter the URL and subdomains of the traffic that you want forwarded to your server. For example, if you have a webserver like I do hosting a WordPress site, you could inout your domain whitematter.tech and www.whitematter.tech. If you were hosting a Docker container elsewhere on your network, you might have something like homeassistant.whitematter.tech or something. This will certainly vary on your use-case. Feel free to reach out if you have more questions or need assistance with this piece! Under Scheme, I recommend https, but this also may vary. For a WordPress site, definitely select https. Under the Forward Hostname / IP, input your server IP as shown below. For the forward port, you will use the port required for traffic flow. If using a WordPress site, you will use 443. If using a Docker container like HomeAssistant, you would use something like 8123. Finally, check Cache Assets, Block Common Exploits, and Websockets Support.\nNext, select Custom locations and click Add location. If forwarding to a WordPress server, type “/wp-admin” as the location. The scheme should match the previous page, which is https in this case. Again, add your server IP and forward port like the previous page as well.\nFinally, under SSL, you can easily configure a LetsEncrypt certificate for use with your server, which will secure your connection to that server. You will probably not need this functionality every time you set up a proxy host especially if you use other means to generate SSL/TLS certs, but I will show you this function anyway! Under SSL Certificate, select “Request a new SSL Certificate”. Check Force SSL and HTTP/2 Support. Enter your email address at the bottom of the config and check to agree to LetsEncrypt’s ToS. Click Save. A cert will generate, and your proxy host will be configured!\nYour proxy host should look something like this:  Conclusion\n Once your host is added, you can add more following similar guidelines! The config may change slightly or substantially depending on your end goal, but the endless possibilities cannot be covered in a single post. However, I use this reverse proxy setup to add SSL for my connection to my Unifi Dream Machine Pro (UDMP). This entails forwarding ports 443 to the UDMP and adding the following Location: “/*”. This is one of many neat applications of this reverse proxy setup.\nPlease feel free to reach out to me if you have any questions or if this post was helpful! I love to hear how people are running their homelabs or offices. Comment below or shoot me an email to robert@whitematter.tech. Thanks for reading!\n\n",
  "wordCount" : "1237",
  "inLanguage": "en",
  "image":"https://whitematter.tech/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker.png","datePublished": "2021-08-17T00:00:00Z",
  "dateModified": "2021-08-17T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Robert D. White"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://whitematter.tech/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "WhiteMatterTech",
    "logo": {
      "@type": "ImageObject",
      "url": "https://whitematter.tech/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text">sudo ./whitematter.tech</span>
            <span class="logo__cursor" style=
                  "
                   background-color:#67a2c9;
                   animation-duration:2s;">
            </span>
        
    </div>
</a>

            <span class="logo-switches">
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://whitematter.tech/posts" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://whitematter.tech/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://whitematter.tech/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://whitematter.tech/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>

  </header>
<div id="particles-js"></div>
 <div class="site-wrapper">
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://whitematter.tech">Home</a>&nbsp;»&nbsp;<a href="https://whitematter.tech/posts/">Posts</a></div>
    <h1 class="post-title">
      How to Easily Run A Reverse Proxy using Docker
    </h1>
    <div class="post-meta"><span title='2021-08-17 00:00:00 +0000 UTC'>August 17, 2021</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Robert D. White&nbsp;|&nbsp;<a href="https:///github.com/RobertDWhite/WhiteMatterTech/edit/main/content//posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker.md" rel="noopener noreferrer" target="_blank">Suggest Changes @ GitHub</a>

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://whitematter.tech/posts/run-a-reverse-proxy-using-docker/run-a-reverse-proxy-using-docker.png" alt="NPM Logo">
        <p><!-- raw HTML omitted --></p>
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#forward-ports-443-and-80" aria-label="Forward Ports 443 and 80">Forward Ports 443 and 80</a></li>
                <li>
                    <a href="#configure-a-proxy-host" aria-label="Configure a Proxy Host">Configure a Proxy Host</a><ul>
                        
                <li>
                    <a href="#your-proxy-host-should-look-something-like-this" aria-label="Your proxy host should look something like this:">Your proxy host should look something like this:</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Reverse proxies are powerful tools used typically to forward client traffic to a server. In contrast to a forward proxy, a reverse proxy sits in front of web servers or other servers and forwards client traffic to the appropriate server. In this post, I will show you how to easily setup a reverse proxy using Docker, forward the necessary ports to the reverse proxy, and configure the reverse proxy to forward traffic to various servers on your network. Specifically, I will show how to setup the reverse proxy for se with WordPress, though the applications of this reverse proxy are endless!</p>
<p>For this tutorial, we will be setting up Nginx Reverse Proxy with Nginx Proxy Manager, which acts as a GUI frontend to manage your reverse proxy. Managing Nginx without a GUI is definitely doable, but I am not much of a fan of troubleshooting that setup. For this setup, I recommend a singular device or VM that can host your reverse proxy. You will need docker-compose installed on your system.</p>
<p>For this setup, I am using a Ubuntu bare-metal machine behind a <em><a href="https://www.amazon.com/gp/product/B086967C9X/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B086967C9X&amp;linkCode=as2&amp;tag=whitematter-20&amp;linkId=4fc0624a437d4bfe761f2ebb02ca61bd">Unifi Dream Machine Pro</a></em> . You can use a VM or an OS on bare-metal capable of running Docker <em>(for this tutorial though, we will use commands and terminology only applicable to Ubuntu, but you can make adjustments where necessary if you are familiar with Docker and choose not to use Ubuntu).</em></p>
<p>For tips on running a self-hosted WordPress site, which will be referenced in this post, check out <a href="https://whitematter.tech/2021/hosting-your-own-site-with-traefik-and-wordpress/">this tutorial</a>. You could run your WordPress site from the same machine/VM running your reverse proxy, but you will likely have to edit some docker-compose files. I may follow up with a post about that later, but until then, I suggest separate devices/VMs.</p>
<blockquote>
<p>Installing Nginx Proxy Manager</p>
</blockquote>
<p>To simplify your install, I have hosted the <a href="https://github.com/robertomano24/nginx-proxy-manager/blob/main/docker-compose.yml">docker-compose.yml</a> I use to deploy my Nginx Proxy Manager: <a href="https://github.com/robertomano24/nginx-proxy-manager">GitHub</a>. You can easily pull this <a href="https://github.com/robertomano24/nginx-proxy-manager/blob/main/docker-compose.yml">docker-compose.yml</a> with cURL or wget by running the commands below:</p>
<p><code>curl -LJO [https://raw.githubusercontent.com/robertomano24/nginx-proxy-manager/main/docker-compose.yml](https://raw.githubusercontent.com/robertomano24/nginx-proxy-manager/main/docker-compose.yml)</code></p>
<p>OR</p>
<p><code>wget --no-check-certificate --content-disposition [https://raw.githubusercontent.com/robertomano24/nginx-proxy-manager/main/docker-compose.yml](https://raw.githubusercontent.com/robertomano24/nginx-proxy-manager/main/docker-compose.yml)</code></p>
<p>If you prefer to create your <a href="https://github.com/robertomano24/nginx-proxy-manager/blob/main/docker-compose.yml">docker-compose.yml</a> file yourself, make a file named &ldquo;<a href="https://github.com/robertomano24/nginx-proxy-manager/blob/main/docker-compose.yml">docker-compose.yml</a>&rdquo; and add the following to the file:</p>
<p>version: &lsquo;3&rsquo;
services:
app:
image: &lsquo;jc21/nginx-proxy-manager:latest&rsquo;
<code>restart: unless-stopped     ports:       - '80:80'       - '81:81'       - '443:443'     environment:       DB_MYSQL_HOST: &quot;db&quot;       DB_MYSQL_PORT: 3306       DB_MYSQL_USER: &quot;npm&quot;       DB_MYSQL_PASSWORD: &quot;npm&quot;       DB_MYSQL_NAME: &quot;npm&quot;     volumes:       - ./data:/data       - ./letsencrypt:/etc/letsencrypt   db:     image: 'jc21/mariadb-aria:latest'     restart: unless-stopped     environment:       MYSQL_ROOT_PASSWORD: 'npm'       MYSQL_DATABASE: 'npm'       MYSQL_USER: 'npm'       MYSQL_PASSWORD: 'npm'     volumes:       - ./data/mysql:/var/lib/mysql</code></p>
<p>Once you have either downloaded the file or created your own, build your containers by issuing the following command:</p>
<p><code>docker-compose up -d</code></p>
<p>If all goes well, you should now have Nginx Proxy Manager and MariaDB (for the reverse proxy database) running successfully.</p>
<blockquote>
<p>Configuring Nginx Proxy Manager</p>
</blockquote>
<p>Access your reverse proxy frontend by going to http://youripaddress:81 (e.g., http://192.168.1.10:81). Login with the default user email and password shown below. Immediately change the login email and password for your admin user to secure your reverse proxy.</p>
<pre tabindex="0"><code>Email:    admin@example.com
Password: changeme
</code></pre><p>Once your password is changed, you can begin configuration. For an example, I will show you how I am configuring the reverse proxy for this WordPress site. You can fill in your own server information. This particular configuration assumes that you have forwarded your domain name (e.g., whitematter.tech) to your public IP. If you do not have a static public IP address, you might consider a free dynamic DNS service like DuckDNS, which will automatically update the DNS records to point to your IP address if your public IP is changed by your ISP. I have whitematter.tech pointing to a DuckDNS hostname.</p>
<h3 id="forward-ports-443-and-80">Forward Ports 443 and 80<a hidden class="anchor" aria-hidden="true" href="#forward-ports-443-and-80">#</a></h3>
<p>The first step is to forward ports 80 and 443 to your reverse proxy host (e.g., 192.168.1.10). I use <em>a <a href="https://www.amazon.com/gp/product/B086967C9X/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B086967C9X&amp;linkCode=as2&amp;tag=whitematter-20&amp;linkId=4fc0624a437d4bfe761f2ebb02ca61bd">Unifi Dream Machine Pro</a></em> <em>(UDMP)</em> as my gateway, so the screenshots will reflect the Unifi Controller. For Unifi users, go to <em><strong>Settings &gt; Routing &amp; Firewall &gt; Port Forwarding</strong></em>. Create a new rule and name it something descriptive (I named mine NGINGX_443). Check to enable the forward, check the <em>WAN interface</em>, and check <em>&ldquo;Anywhere.&rdquo;</em> In both the <em>Port</em> and the <em>Forward Port</em>, enter &ldquo;443.&rdquo; Add your reverse proxy host local IP in the <em>Forward IP</em> spot (e.g., 192.168.1.10). Save the rule, and create another rule with the same info, but replace &ldquo;443&rdquo; with &ldquo;80.&rdquo; Be sure to save this rule too! You should then have two rules: NGINX_443 and NGINX_80. This will forward all incoming Internet traffic using ports 443 (HTTPS) and 80 (HTTP) to your reverse proxy server.</p>
<p><img loading="lazy" src="/posts/run-a-reverse-proxy-using-docker/images/Screen-Shot-2021-08-16-at-11.15.04-PM.png" alt=""  />
</p>
<h3 id="configure-a-proxy-host">Configure a Proxy Host<a hidden class="anchor" aria-hidden="true" href="#configure-a-proxy-host">#</a></h3>
<p>Go back to your Nginx Proxy Server at http://youripaddress:81. Select <strong><em>Hosts &gt; Proxy Hosts</em></strong>. Near the top right, select <em>Add Proxy Host</em>. From here, we can add our first proxy host! Under the <em>Details</em> section, fill in the info similarly to the screenshot below. Under <em>Domain Names</em>, enter the URL and subdomains of the traffic that you want forwarded to your server. For example, if you have a webserver like I do hosting a WordPress site, you could inout your domain whitematter.tech and <a href="http://www.whitematter.tech">www.whitematter.tech</a>. If you were hosting a Docker container elsewhere on your network, you might have something like homeassistant.whitematter.tech or something. This will certainly vary on your use-case. Feel free to reach out if you have more questions or need assistance with this piece! Under <em>Scheme,</em> I recommend <em><strong>https</strong></em>, but this also may vary. For a WordPress site, definitely select <strong><em>https</em></strong>. Under the <em>Forward Hostname / IP,</em> input your server IP as shown below. For the forward port, you will use the port required for traffic flow. If using a WordPress site, you will use 443. If using a Docker container like HomeAssistant, you would use something like 8123. Finally, check <em>Cache Assets, Block Common Exploits,</em> and <em>Websockets Support.</em></p>
<p><img loading="lazy" src="/posts/run-a-reverse-proxy-using-docker/images/Screen-Shot-2021-08-16-at-11.10.29-PM.png" alt=""  />
</p>
<p>Next, select <em><strong>Custom locations</strong></em> and click <em>Add location.</em> If forwarding to a WordPress server, type &ldquo;<strong>/wp-admin</strong>&rdquo; as the location. The scheme should match the previous page, which is <em>https</em> in this case. Again, add your server IP and forward port like the previous page as well.</p>
<p><img loading="lazy" src="/posts/run-a-reverse-proxy-using-docker/images/Screen-Shot-2021-08-16-at-11.10.35-PM.png" alt=""  />
</p>
<p>Finally, under <strong><em>SSL,</em></strong> you can easily configure a LetsEncrypt certificate for use with your server, which will secure your connection to that server. You will probably not need this functionality every time you set up a proxy host especially if you use other means to generate SSL/TLS certs, but I will show you this function anyway! Under <em>SSL Certificate</em>, select &ldquo;<em>Request a new SSL Certificate&rdquo;</em>. Check <em>Force SSL</em> and <em>HTTP/2 Support.</em> Enter your email address at the bottom of the config and check to agree to LetsEncrypt&rsquo;s ToS. Click <em>Save</em>. A cert will generate, and your proxy host will be configured!</p>
<p><img loading="lazy" src="/posts/run-a-reverse-proxy-using-docker/images/Screen-Shot-2021-08-16-at-11.50.18-PM.png" alt=""  />
</p>
<h4 id="your-proxy-host-should-look-something-like-this">Your proxy host should look something like this:<a hidden class="anchor" aria-hidden="true" href="#your-proxy-host-should-look-something-like-this">#</a></h4>
<p><img loading="lazy" src="/posts/run-a-reverse-proxy-using-docker/images/Screen-Shot-2021-08-16-at-11.10.17-PM.png" alt=""  />
</p>
<blockquote>
<p>Conclusion</p>
</blockquote>
<p>Once your host is added, you can add more following similar guidelines! The config may change slightly or substantially depending on your end goal, but the endless possibilities cannot be covered in a single post. However, I use this reverse proxy setup to add SSL for my connection to my  <em><a href="https://www.amazon.com/gp/product/B086967C9X/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B086967C9X&amp;linkCode=as2&amp;tag=whitematter-20&amp;linkId=4fc0624a437d4bfe761f2ebb02ca61bd">Unifi Dream Machine Pro</a></em> <em>(UDMP)</em>. This entails forwarding ports 443 to the UDMP and adding the following Location: &ldquo;<strong>/*</strong>&rdquo;. This is one of many neat applications of this reverse proxy setup.</p>
<p>Please feel free to reach out to me if you have any questions or if this post was helpful! I love to hear how people are running their homelabs or offices. Comment below or shoot me an email to <a href="mailto:robert@whitematter.tech">robert@whitematter.tech</a>. Thanks for reading!</p>
<p><a href="https://github.com/robertomano24/nginx-proxy-manager#wget-docker-compose"></a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://whitematter.tech/tags/docker/">docker</a></li>
      <li><a href="https://whitematter.tech/tags/network/">network</a></li>
      <li><a href="https://whitematter.tech/tags/unifi/">unifi</a></li>
      <li><a href="https://whitematter.tech/tags/webhost/">webhost</a></li>
      <li><a href="https://whitematter.tech/tags/wordpress/">wordpress</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://whitematter.tech/posts/how-to-connect-to-your-unifi-dream-machine-or-unvr-with-ssl-from-lets-encrypt/how-to-connect-to-your-unifi-dream-machine-or-unvr-with-ssl-from-lets-encrypt/">
    <span class="title">« Prev Page</span>
    <br>
    <span>How to Connect to Your Unifi Dream Machine or UNVR with SSL from Let&#39;s Encrypt</span>
  </a>
  <a class="next" href="https://whitematter.tech/posts/live-better-with-circadian-lighting/live-better-with-circadian-lighting/">
    <span class="title">Next Page »</span>
    <br>
    <span>Live Better with Circadian Lighting</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share How to Easily Run A Reverse Proxy using Docker on twitter"
        href="https://twitter.com/intent/tweet/?text=How%20to%20Easily%20Run%20A%20Reverse%20Proxy%20using%20Docker&amp;url=https%3a%2f%2fwhitematter.tech%2fposts%2frun-a-reverse-proxy-using-docker%2frun-a-reverse-proxy-using-docker%2f&amp;hashtags=docker%2cnetwork%2cunifi%2cwebhost%2cwordpress">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share How to Easily Run A Reverse Proxy using Docker on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwhitematter.tech%2fposts%2frun-a-reverse-proxy-using-docker%2frun-a-reverse-proxy-using-docker%2f&amp;title=How%20to%20Easily%20Run%20A%20Reverse%20Proxy%20using%20Docker&amp;summary=How%20to%20Easily%20Run%20A%20Reverse%20Proxy%20using%20Docker&amp;source=https%3a%2f%2fwhitematter.tech%2fposts%2frun-a-reverse-proxy-using-docker%2frun-a-reverse-proxy-using-docker%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share How to Easily Run A Reverse Proxy using Docker on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fwhitematter.tech%2fposts%2frun-a-reverse-proxy-using-docker%2frun-a-reverse-proxy-using-docker%2f&title=How%20to%20Easily%20Run%20A%20Reverse%20Proxy%20using%20Docker">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share How to Easily Run A Reverse Proxy using Docker on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwhitematter.tech%2fposts%2frun-a-reverse-proxy-using-docker%2frun-a-reverse-proxy-using-docker%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share How to Easily Run A Reverse Proxy using Docker on whatsapp"
        href="https://api.whatsapp.com/send?text=How%20to%20Easily%20Run%20A%20Reverse%20Proxy%20using%20Docker%20-%20https%3a%2f%2fwhitematter.tech%2fposts%2frun-a-reverse-proxy-using-docker%2frun-a-reverse-proxy-using-docker%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share How to Easily Run A Reverse Proxy using Docker on telegram"
        href="https://telegram.me/share/url?text=How%20to%20Easily%20Run%20A%20Reverse%20Proxy%20using%20Docker&amp;url=https%3a%2f%2fwhitematter.tech%2fposts%2frun-a-reverse-proxy-using-docker%2frun-a-reverse-proxy-using-docker%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://whitematter.tech">WhiteMatterTech</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>


</footer>
</div>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><script type="text/javascript" src="https://whitematter.techjs/jquery.js"></script>
<script type="text/javascript" src="https://whitematter.techjs/jquery.fitvids.js"></script>
<script type="text/javascript" src="https://whitematter.techjs/index.js"></script>
<script src="https://whitematter.techjs/particles.min.js"></script>
<script src="https://whitematter.techjs/particles.js"></script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
